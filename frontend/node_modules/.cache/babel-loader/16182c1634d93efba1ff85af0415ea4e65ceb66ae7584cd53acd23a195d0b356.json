{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[showForgetModal,setShowForgetModal]=useState(false);const[securityQuestion,setSecurityQuestion]=useState('Select');const[securityAnswer,setSecurityAnswer]=useState('');const[newPassword,setNewPassword]=useState('');const[message,setMessage]=useState('');const[rememberMe,setRememberMe]=useState(false);const[usernameValid,setUsernameValid]=useState(true);const[passwordValid,setPasswordValid]=useState(true);const[isLoading,setIsLoading]=useState(false);// Load \"Remember Me\" data from localStorage on mount\nuseEffect(()=>{const storedUsername=localStorage.getItem('rememberedUsername');const storedPassword=localStorage.getItem('rememberedPassword');if(storedUsername&&storedPassword){setUsername(storedUsername);setPassword(storedPassword);setRememberMe(true);}},[]);const togglePassword=()=>{setShowPassword(!showPassword);};// Real-time validation\nuseEffect(()=>{// Username should be a valid email\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;setUsernameValid(username===''||emailRegex.test(username));// Password should be at least 6 characters\nsetPasswordValid(password===''||password.length>=6);},[username,password]);const handleLogin=async()=>{if(!username||!password){setMessage('All Fields Required!');return;}if(!usernameValid||!passwordValid){setMessage('Please correct the errors in the form!');return;}setIsLoading(true);if(username==='admin'&&password==='admin'){setMessage('Welcome to Attendance Management System Using Facial Recognition');localStorage.setItem('username','Admin User');localStorage.setItem('email','admin@example.com');localStorage.setItem('loggedIn','true');window.dispatchEvent(new Event('storageChange'));if(rememberMe){localStorage.setItem('rememberedUsername',username);localStorage.setItem('rememberedPassword',password);}else{localStorage.removeItem('rememberedUsername');localStorage.removeItem('rememberedPassword');}setIsLoading(false);navigate('/');return;}try{const response=await fetch('http://localhost:5000/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:username,password})});const result=await response.json();console.log('Login API Response:',result);if(response.ok){let fname='';let lname='';let email=username;let pwd=password;try{const userResponse=await fetch(`http://localhost:5000/api/user?email=${encodeURIComponent(username)}`,{method:'GET',headers:{'Content-Type':'application/json'}});const userResult=await userResponse.json();console.log('User API Response:',userResult);if(userResponse.ok){var _userData$name,_userData$name2;const userData=userResult.user||userResult;fname=userData.fname||userData.firstName||userData.first_name||userData.given_name||((_userData$name=userData.name)===null||_userData$name===void 0?void 0:_userData$name.split(' ')[0])||'';lname=userData.lname||userData.lastName||userData.last_name||userData.family_name||((_userData$name2=userData.name)===null||_userData$name2===void 0?void 0:_userData$name2.split(' ')[1])||'';email=userData.email||username;pwd=userData.pwd||userData.password||userData.pass||password;}}catch(error){console.log('Error fetching user details:',error.message);}const storedUsername=localStorage.getItem('username');const displayName=fname?`${fname} ${lname}`.trim():storedUsername||email.split('@')[0].replace(/[^a-zA-Z\\s]/g,' ').trim()||'User';localStorage.setItem('username',displayName);localStorage.setItem('email',email);localStorage.setItem('password',pwd);localStorage.setItem('loggedIn','true');if(rememberMe){localStorage.setItem('rememberedUsername',username);localStorage.setItem('rememberedPassword',password);}else{localStorage.removeItem('rememberedUsername');localStorage.removeItem('rememberedPassword');}console.log('Storing in localStorage:',{username:displayName,email:email,password:pwd});window.dispatchEvent(new Event('storageChange'));setMessage('Login Successful\\nATTEND');setIsLoading(false);navigate('/');}else{setMessage(result.message||'Invalid Username or Password!');setIsLoading(false);}}catch(error){setMessage(`Error: ${error.message}`);setIsLoading(false);}};const handleRegister=()=>{navigate('/register');};const handleForgetPassword=async()=>{if(!username){setMessage('Please Enter the Email ID to reset Password!');return;}try{const response=await fetch('http://localhost:5000/api/check-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:username})});const result=await response.json();if(response.ok&&result.exists){setShowForgetModal(true);}else{setMessage('Please Enter the Valid Email ID!');}}catch(error){setMessage(`Error: ${error.message}`);}};const handleResetPassword=async()=>{if(securityQuestion==='Select'){setMessage('Select the Security Question!');return;}if(!securityAnswer){setMessage('Please Enter the Answer!');return;}if(!newPassword){setMessage('Please Enter the New Password!');return;}try{const response=await fetch('http://localhost:5000/api/reset-password',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:username,securityQuestion,securityAnswer,newPassword})});const result=await response.json();if(response.ok){localStorage.setItem('password',newPassword);setMessage('Successfully Your password has been reset, Please login with new Password!');setShowForgetModal(false);setSecurityQuestion('Select');setSecurityAnswer('');setNewPassword('');}else{setMessage('Please Enter the Correct Answer!');}}catch(error){setMessage(`Error: ${error.message}`);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleLogin();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-black/80 to-blue-900/80 backdrop-blur-sm\",style:{backgroundImage:'url(/images/bg2.jpg)',backgroundSize:'cover',backgroundPosition:'center',filter:'brightness(0.5)'// Darken the background image\n}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white/5 backdrop-blur-xl w-[380px] p-6 rounded-2xl shadow-xl flex flex-col border border-white/30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/log1.png\",alt:\"Login Icon\",className:\"w-[100px] h-[100px] animate-pulse\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-white text-2xl font-bold mt-2 font-['Montserrat',_sans-serif]\",children:\"Login\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center text-white bg-red-500/90 p-2 rounded-lg text-sm backdrop-blur-sm\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 mt-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-300 text-sm mb-1 block\",children:\"Username\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-1/2 transform -translate-y-[-2px] text-gray-300\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M3 8l9-6 9 6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 12v6\"})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),onKeyPress:handleKeyPress,className:`w-full pl-10 p-3 bg-transparent border-2 ${usernameValid?'border-gray-300':'border-red-500'} rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none`,placeholder:\"Enter your email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute hidden group-hover:block -right-2 top-1/2 transform -translate-y-[-2px] bg-gray-800 text-white text-xs rounded py-1 px-2\",children:\"Enter a valid email (e.g., user@example.com)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-300 text-sm mb-1 block\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-1/2 transform -translate-y-[-2px] text-gray-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 2c-1.104 0-2 .896-2 2v3h4v-3c0-1.104-.896-2-2-2zm5-7h1a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h1m4-2h2a2 2 0 012 2v2H9V6a2 2 0 012-2z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),onKeyPress:handleKeyPress,className:`w-full pl-10 p-3 bg-transparent border-2 ${passwordValid?'border-gray-300':'border-red-500'} rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none`,placeholder:\"Enter your password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePassword,className:\"absolute right-3 top-1/2 transform -translate-y-[-2px] text-gray-300 hover:text-white focus:outline-none\",children:showPassword?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"})}):/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute hidden group-hover:block -right-2 top-1/2 transform -translate-y-[-2px] bg-gray-800 text-white text-xs rounded py-1 px-2\",children:\"Minimum 6 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:rememberMe,onChange:e=>setRememberMe(e.target.checked),className:\"h-4 w-4 text-blue-500 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 text-sm text-gray-300\",children:\"Remember Me\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogin,disabled:isLoading,className:`w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 active:scale-95 transition-all duration-300 shadow-md flex items-center justify-center ${isLoading?'opacity-75 cursor-not-allowed':''}`,children:[isLoading?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 mr-2 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):null,isLoading?'Logging In...':'Login']})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,className:\"text-gray-300 font-bold hover:text-blue-400 focus:text-blue-400 transition-all\",children:\"Register\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleForgetPassword,className:\"text-gray-300 font-bold hover:text-blue-400 focus:text-blue-400 transition-all\",children:\"Forget Password?\"})]})]}),showForgetModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-xl p-6 rounded-2xl shadow-xl w-[420px] border border-white/30\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-white text-2xl font-bold font-['Montserrat',_sans-serif]\",children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-300 text-sm mb-1 block\",children:\"Select Security Question\"}),/*#__PURE__*/_jsxs(\"select\",{value:securityQuestion,onChange:e=>setSecurityQuestion(e.target.value),className:\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none appearance-none\",children:[/*#__PURE__*/_jsx(\"option\",{className:\"text-black\",value:\"Select\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{className:\"text-black\",value:\"Your Date of Birth\",children:\"Your Date of Birth\"}),/*#__PURE__*/_jsx(\"option\",{className:\"text-black\",value:\"Your Nick Name\",children:\"Your Nick Name\"}),/*#__PURE__*/_jsx(\"option\",{className:\"text-black\",value:\"Your Favorite Book\",children:\"Your Favorite Book\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-300 text-sm mb-1 block\",children:\"Security Answer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:securityAnswer,onChange:e=>setSecurityAnswer(e.target.value),className:\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none\",placeholder:\"Enter your answer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-300 text-sm mb-1 block\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),className:\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none\",placeholder:\"Enter new password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleResetPassword,className:\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 active:scale-95 transition-all duration-300 shadow-md\",children:\"Reset Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForgetModal(false),className:\"text-gray-300 font-bold hover:text-red-400 focus:text-red-400 transition-all\",children:\"Close\"})})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","username","setUsername","password","setPassword","showPassword","setShowPassword","showForgetModal","setShowForgetModal","securityQuestion","setSecurityQuestion","securityAnswer","setSecurityAnswer","newPassword","setNewPassword","message","setMessage","rememberMe","setRememberMe","usernameValid","setUsernameValid","passwordValid","setPasswordValid","isLoading","setIsLoading","storedUsername","localStorage","getItem","storedPassword","togglePassword","emailRegex","test","length","handleLogin","setItem","window","dispatchEvent","Event","removeItem","response","fetch","method","headers","body","JSON","stringify","email","result","json","console","log","ok","fname","lname","pwd","userResponse","encodeURIComponent","userResult","_userData$name","_userData$name2","userData","user","firstName","first_name","given_name","name","split","lastName","last_name","family_name","pass","error","displayName","trim","replace","handleRegister","handleForgetPassword","exists","handleResetPassword","handleKeyPress","e","key","className","children","style","backgroundImage","backgroundSize","backgroundPosition","filter","src","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","type","value","onChange","target","onKeyPress","placeholder","onClick","checked","disabled","cx","cy","r"],"sources":["C:/Users/anshu/attendance-management-system/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showForgetModal, setShowForgetModal] = useState(false);\r\n  const [securityQuestion, setSecurityQuestion] = useState('Select');\r\n  const [securityAnswer, setSecurityAnswer] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [usernameValid, setUsernameValid] = useState(true);\r\n  const [passwordValid, setPasswordValid] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Load \"Remember Me\" data from localStorage on mount\r\n  useEffect(() => {\r\n    const storedUsername = localStorage.getItem('rememberedUsername');\r\n    const storedPassword = localStorage.getItem('rememberedPassword');\r\n    if (storedUsername && storedPassword) {\r\n      setUsername(storedUsername);\r\n      setPassword(storedPassword);\r\n      setRememberMe(true);\r\n    }\r\n  }, []);\r\n\r\n  const togglePassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  // Real-time validation\r\n  useEffect(() => {\r\n    // Username should be a valid email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    setUsernameValid(username === '' || emailRegex.test(username));\r\n    // Password should be at least 6 characters\r\n    setPasswordValid(password === '' || password.length >= 6);\r\n  }, [username, password]);\r\n\r\n  const handleLogin = async () => {\r\n    if (!username || !password) {\r\n      setMessage('All Fields Required!');\r\n      return;\r\n    }\r\n\r\n    if (!usernameValid || !passwordValid) {\r\n      setMessage('Please correct the errors in the form!');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    if (username === 'admin' && password === 'admin') {\r\n      setMessage('Welcome to Attendance Management System Using Facial Recognition');\r\n      localStorage.setItem('username', 'Admin User');\r\n      localStorage.setItem('email', 'admin@example.com');\r\n      localStorage.setItem('loggedIn', 'true');\r\n      window.dispatchEvent(new Event('storageChange'));\r\n      if (rememberMe) {\r\n        localStorage.setItem('rememberedUsername', username);\r\n        localStorage.setItem('rememberedPassword', password);\r\n      } else {\r\n        localStorage.removeItem('rememberedUsername');\r\n        localStorage.removeItem('rememberedPassword');\r\n      }\r\n      setIsLoading(false);\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email: username, password }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      console.log('Login API Response:', result);\r\n\r\n      if (response.ok) {\r\n        let fname = '';\r\n        let lname = '';\r\n        let email = username;\r\n        let pwd = password;\r\n\r\n        try {\r\n          const userResponse = await fetch(`http://localhost:5000/api/user?email=${encodeURIComponent(username)}`, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n          });\r\n\r\n          const userResult = await userResponse.json();\r\n          console.log('User API Response:', userResult);\r\n\r\n          if (userResponse.ok) {\r\n            const userData = userResult.user || userResult;\r\n            fname = userData.fname || userData.firstName || userData.first_name || userData.given_name || userData.name?.split(' ')[0] || '';\r\n            lname = userData.lname || userData.lastName || userData.last_name || userData.family_name || userData.name?.split(' ')[1] || '';\r\n            email = userData.email || username;\r\n            pwd = userData.pwd || userData.password || userData.pass || password;\r\n          }\r\n        } catch (error) {\r\n          console.log('Error fetching user details:', error.message);\r\n        }\r\n\r\n        const storedUsername = localStorage.getItem('username');\r\n        const displayName = fname\r\n          ? `${fname} ${lname}`.trim()\r\n          : storedUsername || email.split('@')[0].replace(/[^a-zA-Z\\s]/g, ' ').trim() || 'User';\r\n\r\n        localStorage.setItem('username', displayName);\r\n        localStorage.setItem('email', email);\r\n        localStorage.setItem('password', pwd);\r\n        localStorage.setItem('loggedIn', 'true');\r\n\r\n        if (rememberMe) {\r\n          localStorage.setItem('rememberedUsername', username);\r\n          localStorage.setItem('rememberedPassword', password);\r\n        } else {\r\n          localStorage.removeItem('rememberedUsername');\r\n          localStorage.removeItem('rememberedPassword');\r\n        }\r\n\r\n        console.log('Storing in localStorage:', {\r\n          username: displayName,\r\n          email: email,\r\n          password: pwd,\r\n        });\r\n\r\n        window.dispatchEvent(new Event('storageChange'));\r\n        setMessage('Login Successful\\nATTEND');\r\n        setIsLoading(false);\r\n        navigate('/');\r\n      } else {\r\n        setMessage(result.message || 'Invalid Username or Password!');\r\n        setIsLoading(false);\r\n      }\r\n    } catch (error) {\r\n      setMessage(`Error: ${error.message}`);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = () => {\r\n    navigate('/register');\r\n  };\r\n\r\n  const handleForgetPassword = async () => {\r\n    if (!username) {\r\n      setMessage('Please Enter the Email ID to reset Password!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/check-email', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email: username }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.exists) {\r\n        setShowForgetModal(true);\r\n      } else {\r\n        setMessage('Please Enter the Valid Email ID!');\r\n      }\r\n    } catch (error) {\r\n      setMessage(`Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async () => {\r\n    if (securityQuestion === 'Select') {\r\n      setMessage('Select the Security Question!');\r\n      return;\r\n    }\r\n    if (!securityAnswer) {\r\n      setMessage('Please Enter the Answer!');\r\n      return;\r\n    }\r\n    if (!newPassword) {\r\n      setMessage('Please Enter the New Password!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/reset-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          email: username,\r\n          securityQuestion,\r\n          securityAnswer,\r\n          newPassword,\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem('password', newPassword);\r\n        setMessage('Successfully Your password has been reset, Please login with new Password!');\r\n        setShowForgetModal(false);\r\n        setSecurityQuestion('Select');\r\n        setSecurityAnswer('');\r\n        setNewPassword('');\r\n      } else {\r\n        setMessage('Please Enter the Correct Answer!');\r\n      }\r\n    } catch (error) {\r\n      setMessage(`Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleLogin();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative overflow-hidden\">\r\n      {/* Background Image with Gradient Overlay, Darkened, and Blurred */}\r\n      <div\r\n        className=\"absolute inset-0 bg-gradient-to-br from-black/80 to-blue-900/80 backdrop-blur-sm\"\r\n        style={{\r\n          backgroundImage: 'url(/images/bg2.jpg)',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          filter: 'brightness(0.5)', // Darken the background image\r\n        }}\r\n      ></div>\r\n\r\n      {/* Login Card with Enhanced Glassmorphism Effect */}\r\n      <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white/5 backdrop-blur-xl w-[380px] p-6 rounded-2xl shadow-xl flex flex-col border border-white/30\">\r\n        {/* Header Image with Pulse Animation */}\r\n        <div className=\"flex justify-center\">\r\n          <img\r\n            src=\"/images/log1.png\"\r\n            alt=\"Login Icon\"\r\n            className=\"w-[100px] h-[100px] animate-pulse\"\r\n          />\r\n        </div>\r\n\r\n        {/* Title */}\r\n        <h1 className=\"text-center text-white text-2xl font-bold mt-2 font-['Montserrat',_sans-serif]\">\r\n          Login\r\n        </h1>\r\n\r\n        {/* Message Display */}\r\n        {message && (\r\n          <div className=\"mt-4 text-center text-white bg-red-500/90 p-2 rounded-lg text-sm backdrop-blur-sm\">\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        {/* Form Fields */}\r\n        <div className=\"flex-1 mt-6 space-y-6\">\r\n          {/* Username Field with Icon and Tooltip */}\r\n          <div className=\"relative group\">\r\n            <label className=\"text-gray-300 text-sm mb-1 block\">Username</label>\r\n            <div className=\"absolute left-3 top-1/2 transform -translate-y-[-2px] text-gray-300\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 8l9-6 9 6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8z\"></path>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 12v6\"></path>\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              className={`w-full pl-10 p-3 bg-transparent border-2 ${\r\n                usernameValid ? 'border-gray-300' : 'border-red-500'\r\n              } rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none`}\r\n              placeholder=\"Enter your email\"\r\n            />\r\n            <div className=\"absolute hidden group-hover:block -right-2 top-1/2 transform -translate-y-[-2px] bg-gray-800 text-white text-xs rounded py-1 px-2\">\r\n              Enter a valid email (e.g., user@example.com)\r\n            </div>\r\n          </div>\r\n\r\n          {/* Password Field with Icon and Modern Eye Icon */}\r\n          <div className=\"relative group\">\r\n            <label className=\"text-gray-300 text-sm mb-1 block\">Password</label>\r\n            <div className=\"absolute left-3 top-1/2 transform -translate-y-[-2px] text-gray-300\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 2c-1.104 0-2 .896-2 2v3h4v-3c0-1.104-.896-2-2-2zm5-7h1a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h1m4-2h2a2 2 0 012 2v2H9V6a2 2 0 012-2z\"></path>\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type={showPassword ? 'text' : 'password'}\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              className={`w-full pl-10 p-3 bg-transparent border-2 ${\r\n                passwordValid ? 'border-gray-300' : 'border-red-500'\r\n              } rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none`}\r\n              placeholder=\"Enter your password\"\r\n            />\r\n            <button\r\n              onClick={togglePassword}\r\n              className=\"absolute right-3 top-1/2 transform -translate-y-[-2px] text-gray-300 hover:text-white focus:outline-none\"\r\n            >\r\n              {showPassword ? (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"></path>\r\n                </svg>\r\n              ) : (\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path>\r\n                </svg>\r\n              )}\r\n            </button>\r\n            <div className=\"absolute hidden group-hover:block -right-2 top-1/2 transform -translate-y-[-2px] bg-gray-800 text-white text-xs rounded py-1 px-2\">\r\n              Minimum 6 characters\r\n            </div>\r\n          </div>\r\n\r\n          {/* Remember Me Checkbox */}\r\n          <div className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={rememberMe}\r\n              onChange={(e) => setRememberMe(e.target.checked)}\r\n              className=\"h-4 w-4 text-blue-500 border-gray-300 rounded focus:ring-blue-500\"\r\n            />\r\n            <label className=\"ml-2 text-sm text-gray-300\">Remember Me</label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Login Button with Gradient, Microinteraction, and Loading Animation */}\r\n        <div className=\"mt-6\">\r\n          <button\r\n            onClick={handleLogin}\r\n            disabled={isLoading}\r\n            className={`w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 active:scale-95 transition-all duration-300 shadow-md flex items-center justify-center ${\r\n              isLoading ? 'opacity-75 cursor-not-allowed' : ''\r\n            }`}\r\n          >\r\n            {isLoading ? (\r\n              <svg\r\n                className=\"animate-spin h-5 w-5 mr-2 text-white\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <circle\r\n                  className=\"opacity-25\"\r\n                  cx=\"12\"\r\n                  cy=\"12\"\r\n                  r=\"10\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"4\"\r\n                ></circle>\r\n                <path\r\n                  className=\"opacity-75\"\r\n                  fill=\"currentColor\"\r\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                ></path>\r\n              </svg>\r\n            ) : null}\r\n            {isLoading ? 'Logging In...' : 'Login'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Register and Forget Password Links */}\r\n        <div className=\"mt-4 flex justify-between\">\r\n          <button\r\n            onClick={handleRegister}\r\n            className=\"text-gray-300 font-bold hover:text-blue-400 focus:text-blue-400 transition-all\"\r\n          >\r\n            Register\r\n          </button>\r\n          <button\r\n            onClick={handleForgetPassword}\r\n            className=\"text-gray-300 font-bold hover:text-blue-400 focus:text-blue-400 transition-all\"\r\n          >\r\n            Forget Password?\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Forget Password Modal with Enhanced Glassmorphism */}\r\n      {showForgetModal && (\r\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50\">\r\n          <div className=\"bg-white/5 backdrop-blur-xl p-6 rounded-2xl shadow-xl w-[420px] border border-white/30\">\r\n            <h2 className=\"text-center text-white text-2xl font-bold font-['Montserrat',_sans-serif]\">\r\n              Reset Password\r\n            </h2>\r\n\r\n            {/* Security Question */}\r\n            <div className=\"mt-6\">\r\n              <label className=\"text-gray-300 text-sm mb-1 block\">Select Security Question</label>\r\n              <select\r\n                value={securityQuestion}\r\n                onChange={(e) => setSecurityQuestion(e.target.value)}\r\n                className=\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none appearance-none\"\r\n              >\r\n                <option className=\"text-black\" value=\"Select\">\r\n                  Select\r\n                </option>\r\n                <option className=\"text-black\" value=\"Your Date of Birth\">\r\n                  Your Date of Birth\r\n                </option>\r\n                <option className=\"text-black\" value=\"Your Nick Name\">\r\n                  Your Nick Name\r\n                </option>\r\n                <option className=\"text-black\" value=\"Your Favorite Book\">\r\n                  Your Favorite Book\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Security Answer */}\r\n            <div className=\"mt-6\">\r\n              <label className=\"text-gray-300 text-sm mb-1 block\">Security Answer</label>\r\n              <input\r\n                type=\"text\"\r\n                value={securityAnswer}\r\n                onChange={(e) => setSecurityAnswer(e.target.value)}\r\n                className=\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none\"\r\n                placeholder=\"Enter your answer\"\r\n              />\r\n            </div>\r\n\r\n            {/* New Password */}\r\n            <div className=\"mt-6\">\r\n              <label className=\"text-gray-300 text-sm mb-1 block\">New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                className=\"w-full p-3 bg-transparent border-2 border-gray-300 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 hover:border-blue-400 transition-all outline-none\"\r\n                placeholder=\"Enter new password\"\r\n              />\r\n            </div>\r\n\r\n            {/* Reset Password Button */}\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={handleResetPassword}\r\n                className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 active:scale-95 transition-all duration-300 shadow-md\"\r\n              >\r\n                Reset Password\r\n              </button>\r\n            </div>\r\n\r\n            {/* Close Modal Button */}\r\n            <div className=\"mt-4 text-center\">\r\n              <button\r\n                onClick={() => setShowForgetModal(false)}\r\n                className=\"text-gray-300 font-bold hover:text-red-400 focus:text-red-400 transition-all\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}