{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Train(_ref){let{onBack}=_ref;const[isTraining,setIsTraining]=useState(false);const[progress,setProgress]=useState(0);const trainClassifier=async()=>{setIsTraining(true);setProgress(0);try{// Simulate progress updates\nconst interval=setInterval(()=>{setProgress(prev=>{if(prev>=100){clearInterval(interval);return 100;}return prev+10;});},300);const response=await fetch('http://localhost:5000/api/train',{method:'POST',headers:{'Content-Type':'application/json'}});const result=await response.json();if(response.ok){alert('Training Dataset Completed!');}else{alert(`Error: ${result.message||'Training failed'}`);}}catch(error){alert(`Error: ${error.message||'Failed to connect to the server'}`);}finally{setTimeout(()=>{setIsTraining(false);setProgress(0);},1000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 z-0\",style:{backgroundImage:'url(/images/at.jpeg)',backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-60\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 overflow-hidden pointer-events-none\",children:[...Array(15)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"particle\",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`}},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-800 to-indigo-600 text-white p-4 flex justify-between items-center rounded-b-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"flex items-center bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all shadow-md\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 19l-7-7 7-7\"})}),\"Back Home\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold font-['Montserrat',_sans-serif] tracking-wide flex-1 text-center\",children:\"Welcome to Training Panel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 flex justify-center items-center min-h-[calc(100vh-80px)] px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:trainClassifier,className:\"w-48 h-48 bg-gray-100 flex items-center justify-center rounded-2xl border-4 border-transparent hover:border-blue-500 transition-all duration-300 shadow-md\",disabled:isTraining,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/t_btn1.png\",alt:\"Train Dataset\",className:`w-full h-full object-cover rounded-2xl ${isTraining?'animate-pulse':''}`})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-2xl shadow-[0_0_20px_rgba(59,130,246,0.5)] opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-12 bg-gray-800 text-white text-sm px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\",children:\"Click to train the dataset for face recognition\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:trainClassifier,className:\"mt-6 w-48 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 rounded-xl hover:scale-105 hover:shadow-xl transition-all duration-300 shadow-md flex items-center justify-center\",disabled:isTraining,children:[isTraining?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 animate-spin\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 12a8 8 0 0116 0 8 8 0 01-16 0zm8-8a8 8 0 00-8 8\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 12H9m6 0a3 3 0 11-6 0 3 3 0 016 0z\"})}),\"Train Dataset\"]}),isTraining&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 w-48 bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full transition-all duration-300\",style:{width:`${progress}%`}})})]})}),/*#__PURE__*/_jsx(\"style\",{children:`\n          @keyframes float {\n            0%, 100% { transform: translateY(0); }\n            50% { transform: translateY(-10px); }\n          }\n          .particle {\n            position: absolute;\n            width: 4px;\n            height: 4px;\n            background: rgba(59, 130, 246, 0.7);\n            border-radius: 50%;\n            animation: float 5s infinite ease-in-out;\n            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\n          }\n        `})]});}export default Train;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Train","_ref","onBack","isTraining","setIsTraining","progress","setProgress","trainClassifier","interval","setInterval","prev","clearInterval","response","fetch","method","headers","result","json","ok","alert","message","error","setTimeout","className","children","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","Array","map","_","i","left","Math","random","top","animationDelay","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","src","alt","width"],"sources":["C:/Users/anshu/attendance-management-system/frontend/src/components/Train.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction Train({ onBack }) {\r\n  const [isTraining, setIsTraining] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const trainClassifier = async () => {\r\n    setIsTraining(true);\r\n    setProgress(0);\r\n\r\n    try {\r\n      // Simulate progress updates\r\n      const interval = setInterval(() => {\r\n        setProgress((prev) => {\r\n          if (prev >= 100) {\r\n            clearInterval(interval);\r\n            return 100;\r\n          }\r\n          return prev + 10;\r\n        });\r\n      }, 300);\r\n\r\n      const response = await fetch('http://localhost:5000/api/train', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert('Training Dataset Completed!');\r\n      } else {\r\n        alert(`Error: ${result.message || 'Training failed'}`);\r\n      }\r\n    } catch (error) {\r\n      alert(`Error: ${error.message || 'Failed to connect to the server'}`);\r\n    } finally {\r\n      setTimeout(() => {\r\n        setIsTraining(false);\r\n        setProgress(0);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative overflow-hidden\">\r\n      {/* Background Image with Overlay */}\r\n      <div\r\n        className=\"absolute inset-0 z-0\"\r\n        style={{\r\n          backgroundImage: 'url(/images/at.jpeg)',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n        }}\r\n      />\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-60\"></div>\r\n\r\n      {/* Animated Particles */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        {[...Array(15)].map((_, i) => (\r\n          <div\r\n            key={i}\r\n            className=\"particle\"\r\n            style={{\r\n              left: `${Math.random() * 100}%`,\r\n              top: `${Math.random() * 100}%`,\r\n              animationDelay: `${Math.random() * 5}s`,\r\n            }}\r\n          ></div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Header */}\r\n      <div className=\"relative z-10\">\r\n        <div className=\"bg-gradient-to-r from-blue-800 to-indigo-600 text-white p-4 flex justify-between items-center rounded-b-2xl shadow-lg\">\r\n          <button onClick={onBack} className=\"flex items-center bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all shadow-md\">\r\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\"></path>\r\n            </svg>\r\n            Back Home\r\n          </button>\r\n          <h1 className=\"text-3xl font-bold font-['Montserrat',_sans-serif] tracking-wide flex-1 text-center\">\r\n            Welcome to Training Panel\r\n          </h1>\r\n          <div className=\"w-12 h-12\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"relative z-10 flex justify-center items-center min-h-[calc(100vh-80px)] px-4\">\r\n        <div className=\"flex flex-col items-center bg-white p-8 rounded-2xl shadow-lg\">\r\n          <div className=\"relative group\">\r\n            <button\r\n              onClick={trainClassifier}\r\n              className=\"w-48 h-48 bg-gray-100 flex items-center justify-center rounded-2xl border-4 border-transparent hover:border-blue-500 transition-all duration-300 shadow-md\"\r\n              disabled={isTraining}\r\n            >\r\n              <img\r\n                src=\"/images/t_btn1.png\"\r\n                alt=\"Train Dataset\"\r\n                className={`w-full h-full object-cover rounded-2xl ${isTraining ? 'animate-pulse' : ''}`}\r\n              />\r\n            </button>\r\n            {/* Glowing Hover Effect */}\r\n            <div className=\"absolute inset-0 rounded-2xl shadow-[0_0_20px_rgba(59,130,246,0.5)] opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"></div>\r\n            {/* Tooltip */}\r\n            <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-12 bg-gray-800 text-white text-sm px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\">\r\n              Click to train the dataset for face recognition\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={trainClassifier}\r\n            className=\"mt-6 w-48 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 rounded-xl hover:scale-105 hover:shadow-xl transition-all duration-300 shadow-md flex items-center justify-center\"\r\n            disabled={isTraining}\r\n          >\r\n            {isTraining ? (\r\n              <svg className=\"w-5 h-5 mr-2 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 12a8 8 0 0116 0 8 8 0 01-16 0zm8-8a8 8 0 00-8 8\"></path>\r\n              </svg>\r\n            ) : (\r\n              <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 12H9m6 0a3 3 0 11-6 0 3 3 0 016 0z\"></path>\r\n              </svg>\r\n            )}\r\n            Train Dataset\r\n          </button>\r\n          {isTraining && (\r\n            <div className=\"mt-4 w-48 bg-gray-200 rounded-full h-2.5\">\r\n              <div\r\n                className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300\"\r\n                style={{ width: `${progress}%` }}\r\n              ></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* CSS for Animations and Effects */}\r\n      <style>\r\n        {`\r\n          @keyframes float {\r\n            0%, 100% { transform: translateY(0); }\r\n            50% { transform: translateY(-10px); }\r\n          }\r\n          .particle {\r\n            position: absolute;\r\n            width: 4px;\r\n            height: 4px;\r\n            background: rgba(59, 130, 246, 0.7);\r\n            border-radius: 50%;\r\n            animation: float 5s infinite ease-in-out;\r\n            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Train;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}